import { renderHook } from '@testing-library/react-native'
import { use<%= props.pascalCaseName %>Functions } from './<%= props.kebabCaseName %>-functions'
import { createTestProps } from '../../scripts/create-test-props/create-test-props'
import { MockedAppProviders } from '../../mocks/contexts/app/mock'

/*
 * <%= props.pascalCaseName %>Screen FUNCTIONS
 * Keep presentation tests and function/logic tests separate for easier debugging!
 */
describe('<%= props.pascalCaseName %>Screen - functions', () => {
  const props = createTestProps({
    route: {
      name: '<%= props.pascalCaseName %>Screen',
      params: {
        exampleScreenParam: '1234',
      },
    },
  })

  const { result } = renderHook(() => use<%= props.pascalCaseName %>Functions(props), { wrapper: MockedAppProviders })
  const { onPressBack } = result.current

  describe('onPressBack', () => {
    it('instructs navigation to go back', () => {
      onPressBack()
      expect(props.navigation.goBack).toHaveBeenCalled()
    })
  })
})

/*
 * <%= props.pascalCaseName %>Screen PRESENTATION
 * Keep presentation tests and function/logic tests separate for easier debugging!
 */
test('<%= props.pascalCaseName %>Screen - presentation', (done) => {
  expect(true).toBeTruthy()
  done()
})
